# Project Jellyfish weekly report

2025-10-14

## Overview

- Binutils Simple command buffer support
- GCC builtins support

## Review of the past week

- Assembler status
  - All 16 simple command buffer instructions with minimal testing
    - *DONE*
  - Address generator instructions requires two new operands
    - Continuing as agreed in the specification on 2025-09-30
    - 17 instructions remaining
    - *IN PROGRESS*
  - Following a design review, the mnemonics for the read and write instructions (`tt.rocc.cmdbuf_rd_reg`, `tt.rocc.cmdbuf_wr_reg`, `tt.rocc.addrgen_rd_reg` and `tt.rocc.addrgen_wr_reg`)  have been implemented to include currently unused register operands.
    - This approach was adopted at the request of the hardware team to align the syntax with that of standard CSR instructions.
    - The primary motivation is to ensure forward compatibility for the assembler, as the underlying custom instruction format allows for future extensions that might utilise these operand fields to perform simultaneous read and write operations.
    - This convention is specific to these read/write instructions - other `tt.rocc` instructions with more narrowly defined functions will continue to use a syntax that only specifies their required operands.
    - *DONE*
- Builtins
  - Continuing as agreed at the meeting on 2025-10-07
  - Rewrote the `ttrocc` RISC-V extension to conform to GCC conventions
  - Due to the base submodule commit being on GCC 12.4, we lack a lot of the infrastructure for `x` extensions
    - We will rebase our work on top of Nathan's work for GCC 15.
  - *IN PROGRESS*

## Plan for the next week

- WP2: Complete work on binutils (Pietra & Pierre-Emmanuel)
- WP3: Add binutils tests (Pierre-Emmanuel)
- WP4: Add builtin function support (Arthur)

## Work package progress

- [x] *WP1* - Extend the tool chain drivers
- [ ] *WP2* - Add assembler/disassembler support for the ISA extension
- [ ] *WP3* - Test the assembler and disassembler
- [ ] *WP4* - Add builtin function support for the ISA extension

- Instructions added to binutils: 46/70
- Binutils instructions tested: 0/70
- Builtins completed: 26/70
- Builtins tested: 26/70

## Milestones

| MS  | Description                                                                                                                                                         | Time estimation |
|-----|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
| MS0 | Project SoW signed-off, Tenstorrent PO received, and down-payment invoiced by Ashling.                                                                              | T0=Sep-2, 2025  |
| MS1 | Initial release of GCC and GNU binutils with ISA extension support. At this stage all the functionalities will be present, but testing will not have been completed | Oct 28, 2025    |
| MS2 | Final release of GCC and GNU binutils with ISA extension support. All testing will be complete, and there will be no new regressions in either GCC or GNU binutils  | Nov 25, 2025    |

## Risk table

Risk register available at the following [link](https://docs.google.com/spreadsheets/d/1CJ0aZVB_PavCR35Cum80Vebcd8fscyv6x8qoU1es-iE)
- The risk of not being able to upstream has been lowered since we're now using the RISC-V name conventions

## Planned absences

- Pietra will be on vacation from October 16 to 27.
- Jeremy will be at LLVM developper's meeting and RISC-V summit in California from October 18 to 31.
